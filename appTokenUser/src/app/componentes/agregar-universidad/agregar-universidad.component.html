<form [formGroup]="formularioAltaUniversidad" (ngSubmit)="enviarFormulario($event)" class="d-flex align-items-center">
    <div class="contenedorGlobal container">
        <p>{{indice + "/7"}}</p>
        <div class="contenedorHijo container">
            <div *ngIf="indice === 1" class="caja">
                <div class="titulo">
                    <h1>Ingresa el nombre de la universidad</h1>
                </div>
                <div class="campoNombre d-flex align-items-center">
                    <input class="form-control" type="text" formControlName="nombre" id="nombre"
                        placeholder="Nombre universidad" />
                    <button class="btn btn-primary ms-2" type="button"
                        [disabled]="formularioAltaUniversidad.get('nombre')?.errors != null"
                        (click)="siguiente()">Siguiente</button>
                </div>

                <div *ngIf="formularioAltaUniversidad.get('nombre')?.touched && formularioAltaUniversidad.get('nombre')?.errors?.['required']"
                    class="alert alert-danger mt-2">
                    Este campo es requerido
                </div>

                <div *ngIf="formularioAltaUniversidad.get('nombre')?.touched && formularioAltaUniversidad.get('nombre')?.errors?.['minlength']"
                    class="alert alert-danger mt-2">
                    Este campo necesita un mínimo de 4 caracteres
                </div>
            </div>

            <div *ngIf="indice === 2" class="caja">
                <div class="titulo">
                    <h1>Ingresa la dirección web</h1>
                </div>
                <div class="campoNombre d-flex align-items-center">
                    <input class="form-control" type="text" placeholder="https://ejemplo.com"
                        formControlName="direccionWeb" />
                    <button class="btn btn-primary ms-2" type="button" (click)="anterior()">Atrás</button>
                    <button class="btn btn-primary ms-2" type="button"
                        [disabled]="formularioAltaUniversidad.get('direccionWeb')?.errors != null"
                        (click)="siguiente()">Siguiente</button>
                </div>

                <div *ngIf="formularioAltaUniversidad.get('direccionWeb')?.touched && formularioAltaUniversidad.get('direccionWeb')?.errors?.['required']"
                    class="alert alert-danger mt-2">
                    Este campo es requerido
                </div>

                <div *ngIf="formularioAltaUniversidad.get('direccionWeb')?.touched && formularioAltaUniversidad.get('direccionWeb')?.errors?.['pattern']"
                    class="alert alert-danger mt-2">
                    La dirección ingresada no es válida
                </div>
            </div>

            <div *ngIf="indice === 3" class="caja">
                <div class="titulo">
                    <h1>Ingresa la dirección física</h1>
                </div>
                <div class="campoNombre d-flex align-items-center">
                    <input class="form-control" type="text" placeholder="ciudad/provincia/país"
                        formControlName="direccionFisica" />
                    <button class="btn btn-primary ms-2" type="button" (click)="anterior()">Atrás</button>
                    <button class="btn btn-primary ms-2" type="button"
                        [disabled]="formularioAltaUniversidad.get('direccionFisica')?.errors != null"
                        (click)="siguiente()">Siguiente</button>
                </div>

                <div *ngIf="formularioAltaUniversidad.get('direccionFisica')?.touched && formularioAltaUniversidad.get('direccionFisica')?.errors?.['required']"
                    class="alert alert-danger mt-2">
                    Este campo es requerido
                </div>

                <div *ngIf="formularioAltaUniversidad.get('direccionFisica')?.touched && formularioAltaUniversidad.get('direccionFisica')?.errors?.['minlength']"
                    class="alert alert-danger mt-2">
                    Este campo requiere un mínimo de 10 caracteres
                </div>
            </div>

            <div *ngIf="indice === 4" class="descripcion">
                <div class="titulo text-center" style="margin: auto">
                    <h1>Ingresa una descripción sobre la universidad</h1>
                </div>
                <div class="campoDescripcion">
                    <textarea class="form-control" placeholder="Descripción" rows="4"
                        formControlName="descripcion"></textarea>
                </div>

                <div *ngIf="formularioAltaUniversidad.get('descripcion')?.touched && formularioAltaUniversidad.get('descripcion')?.errors?.['required']"
                    class="alert alert-danger mt-2">
                    Este campo es requerido
                </div>
                <div *ngIf="formularioAltaUniversidad.get('descripcion')?.touched && formularioAltaUniversidad.get('descripcion')?.errors?.['minlength']"
                    class="alert alert-danger mt-2">
                    Este campo requiere un mínimo de 30 caracteres
                </div>
                <div class="botonesDecripcion d-flex justify-content-center mt-3">
                    <button class="btn btn-primary" type="button" (click)="anterior()">Atrás</button>
                    <button class="btn btn-primary ms-2" type="button"
                        [disabled]="formularioAltaUniversidad.get('descripcion')?.errors != null"
                        (click)="siguiente()">Siguiente</button>
                </div>
            </div>

            <div *ngIf="indice === 5" class="imagenContainer container">
                <div>
                    <h1>Url imagen</h1>
                    <input type="text" class="form-control" placeholder="Cargue la url de la imagen"
                        formControlName="imagen" (input)="changeImagen($event)" />
                </div>

                <div *ngIf="formularioAltaUniversidad.get('imagen')?.touched && formularioAltaUniversidad.get('imagen')?.errors?.['required']"
                    class="alert alert-danger mt-2">
                    Este campo es requerido
                </div>

                <div class="mt-3">
                    <button class="btn btn-primary" type="button" (click)="anterior()">Atrás</button>
                    <button class="btn btn-primary ms-2" type="button"
                        [disabled]="formularioAltaUniversidad.get('imagen')?.errors != null"
                        (click)="siguiente()">Siguiente</button>
                </div>
            </div>

            <div *ngIf="indice === 6" class="carreras">
                <div class="text-center">
                    <h1>¿Agregar carrera a la universidad?</h1>
                </div>

                <div class="agregarCarrera">
                    <input type="text" class="form-control mb-2" placeholder="Nombre" formControlName="nombreCarrera" />
                    <input type="text" class="form-control mb-2" placeholder="Grado" formControlName="gradoCarrera" />
                    <input type="text" class="form-control mb-2" placeholder="Duración"
                        formControlName="duracionCarrera" />
                    <button class="btn btn-success" type="button" (click)="agregarCarreras()" [disabled]="!(formularioAltaUniversidad.get('nombreCarrera')?.value !== '' 
                            && formularioAltaUniversidad.get('gradoCarrera')?.value !== '' 
                            && formularioAltaUniversidad.get('duracionCarrera')?.value !== '')">Agregar</button>
                </div>


                <div *ngIf="formularioAltaUniversidad.get('nombreCarrera')?.touched && formularioAltaUniversidad.get('nombreCarrera')?.errors?.['required']"
                    class="alert alert-danger mt-2">
                    Este campo es requerido
                </div>
                <div *ngIf="formularioAltaUniversidad.get('gradoCarrera')?.touched && formularioAltaUniversidad.get('gradoCarrera')?.errors?.['required']"
                    class="alert alert-danger mt-2">
                    Este campo es requerido
                </div>
                <div *ngIf="formularioAltaUniversidad.get('duracionCarrera')?.touched && formularioAltaUniversidad.get('duracionCarrera')?.errors?.['required']"
                    class="alert alert-danger mt-2">
                    Este campo es requerido
                </div>

                <div class="mt-3">
                    <button class="btn btn-primary" type="button" (click)="anterior()">Atrás</button>
                    <button class="btn btn-primary ms-2" type="button"
                        [disabled]="formularioAltaUniversidad.get('imagen')?.errors != null"
                        (click)="siguiente()">Siguiente</button>
                </div>
            </div>

            <div *ngIf="indice === 7"
            style="display:flex; justify-content: center; flex-direction: column; align-items: center;">
            <h1 style="text-align: center;">Califica la universidad!!</h1>
            <app-puntuacion (calificacionGuardada)="guardarCalificacion($event)"></app-puntuacion>
            <div class="botones">
                <button type="button" class="btn btn-primary" (click)="anterior()" style="margin-left: 5px;">Atrás</button>
                <input [disabled]="formularioAltaUniversidad.invalid" class="btn btn-primary" type="submit" value="Enviar" style="margin-left: 5px;" />
            </div>
        </div>
        </div>
    </div>
</form>